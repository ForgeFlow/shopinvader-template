---
{
  "name": "Account Login box",
  "class": "",
  "icon": "list",
  "keep_name": true,
  "keep_icon": true,
  "settings": [
    {
      "label": "Card alignment",
      "id": "cells_align",
      "type": "select",
      "options": [
        {"label": "Left","value": "start"},
        {"label": "Center","value": "center"},
        {"label": "Right", "value": "end"}
      ]
    },
    {
      "label": "Card direction",
      "id": "cells_direction",
      "type": "select",
      "options": [
        {"label": "Row","value": "flex-row"},
        {"label": "Column","value": "flex-column"}
      ]
    }
  ],
  "blocks": [
    {
      "name": "Register card",
      "type": "card_register",
      "settings": [
        {
          "label": "Thumbnail Size",
          "id": "thumb_size",
          "type": "select",
          "options": [
            {"label": "Extra-small","value": "xs"},
            {"label": "Small","value": "sm"},
            {"label": "Medium", "value": "md"},
            {"label": "Large", "value": "lg"},
            {"label": "Extra-large", "value": "xl"}
          ]

        },
        {
          "label": "Theme",
          "id": "theme",
          "type": "select",
          "options": [
            {"label": "Transparent", "value": "none"},
            {"label": "Dark","value": "dark"},
            {"label": "Light","value": "light"}
          ]
        },
        {
          "label": "Show border",
          "id": "display_border",
          "type": "checkbox",
          "default": true
        },
        {
          "label": "Title",
          "id": "title",
          "type": "text",
          "html": true,
          "nb_rows": 2
        },
        {
          "label": "Content",
          "id": "content",
          "type": "text",
          "html": true,
          "nb_rows": 10
        },
        {
          "label": "Button label",
          "id": "btn_label",
          "type": "text"
        }
      ]
    },
    {
      "name": "Login card",
      "type": "card_login",
      "settings": [
        {
          "label": "Cell Size",
          "id": "cell_size",
          "type": "select",
          "options": [
            {"label": "Auto", "value": "auto"},
            {"label": "Extra-small","value": "xs"},
            {"label": "Small","value": "sm"},
            {"label": "Medium", "value": "md"},
            {"label": "Large", "value": "lg"},
            {"label": "Extra-large", "value": "xl"},
            {"label": "Full", "value": "full"}
          ]
        },
        {
          "label": "Theme",
          "id": "theme",
          "type": "select",
          "options": [
            {"label": "Transparent", "value": "none"},
            {"label": "Dark","value": "dark"},
            {"label": "Light","value": "light"}
          ]
        },
        {
          "label": "Show border",
          "id": "display_border",
          "type": "checkbox",
          "default": true
        },
        {
          "label": "Title",
          "id": "title",
          "type": "text",
          "html": true,
          "nb_rows": 2
        },
        {
          "label": "Content",
          "id": "content",
          "type": "text",
          "html": true,
          "nb_rows": 10
        },
        {
          "label": "Button label",
          "id": "btn_label",
          "type": "text"
        }
      ]
    }
  ],
  "default": {
    "blocks": [
      {
        "type": "card_login",
        "settings": {
          "cell_size": "md",
          "btn_label": "Sign In"
        }
      },
      {
        "type": "card_register",
        "settings": {
          "cell_size": "md",
          "btn_label": "Register"
        }
      }
    ]
  }
}
---
<div class="container">
  <div class="row pt-4 pb-4 justify-content-{{section.settings.cells_align}} {{section.settings.cells_direction}}">
    {% for block in section.blocks %}
      {% assign theme = '' %}
      {% assign next_block = section.blocks[forloop.index] %}
      {% case block.settings.cell_size %}
        {% when 'xs' %}
          {% assign css_cell = "col-12 col-md-4 col-lg-2 col-xl-2 "%}
        {% when 'sm' %}
          {% assign css_cell = "col-12 col-md-6 col-lg-4"%}
        {% when 'md' %}
          {% assign css_cell = "col-12 col-lg-12 col-xl-6 "%}
        {% when 'lg' %}
          {% assign css_cell = "col-12 col-md-12 col-lg-8 "%}
        {% when 'xl' %}
          {% assign css_cell = "col-12 col-lg-10 col-xl-10 "%}
        {% when 'full' %}
          {% assign css_cell = "col-12 "%}
        {% when 'auto' %}
          {% assign css_cell = "col-auto"%}
      {% endcase %}
      
      {% case block.settings.theme %}
        {% when 'dark' %}
          {% assign theme = " bg-dark  text-light"%}
        {% when 'light' %}
          {% assign theme = "text-dark bg-light"%}
      {% endcase %}
      {% if block.settings.display_border != true %}
        {% assign theme = theme | append :' border-0' %}
      {% endif %}

      <div class="{{css_cell}} block block_{{block.type}}">
        <div class="card {{theme}} h-100">
          <div class="card-body">
            <div>{{ block.settings.title }}</div>
            <div>
              {% case block.type %}
              {% when 'card_login' %}
                <form action="{% path_to 'account_login' %}" method="post">
                  <input type="hidden" name="auth_action" value="sign_in" />
                  <input type="hidden" name="auth_content_type" value="customers" />
                  <input type="hidden" name="auth_id_field" value="email" />
                  <input type="hidden" name="auth_password_field" value="password" />
                  <input type="hidden" name="auth_callback" value="{% path_to account_index %}" />
                  <div class="form-group">
                    <label for="auth-email">{{ 'signin_email' | translate }}</label>
                    <input type="email" class="form-control" id="auth-email" placeholder="{{ 'signin_email' | translate }}" name="auth_id" value="{{ params.auth_id }}" required="required">
                  </div>
                  <div class="form-group">
                    <label for="auth-password">{{ 'signin_password' | translate }}</label>
                    <input type="password" class="form-control" id="auth-password" placeholder="{{ 'signin_password' | translate }}" name="auth_password" value="" required="required">
                    <a href="{% path_to reset_password_request %}" class="color-white">
                      {{ 'signin_forgotpassword' | translate }}
                    </a>
                  </div>
                  <script src="https://www.google.com/recaptcha/api.js?render=6LduOIAUAAAAAIfEIpRUGSyJJZjewBVfFGoJExeN"></script>
                  <script>
                  grecaptcha.ready(function() {
                      grecaptcha.execute('reCAPTCHA_site_key', {action: 'homepage'}).then(function(token) {
                         
                      });
                  });
                  </script>
                  <div class="text-center">{% if auth_wrong_credentials %}{{ 'signin_wrong' | translate }}{% endif %}</div>
                  <div class="text-right">
                    <button type="submit" class="btn btn-dark btn-lg pull-right"><i class="fa fa-lock"></i> {{ block.settings.btn_label  }}</button>
                  </div>

                </form>
              {% when 'card_register' %}
                {{ block.settings.content }}
                <div class="text-center pt-3">
                  <a href="{% path_to cart_next_step %}" class="btn btn-primary">
                    {{ block.settings.btn_label  }}
                  </a>
                </div>
              </div>
            {% endcase %}
            </div>
          </div>
        </div>
        
        
      </div>
    {% endfor %}
  </div>
</div>
{% comment %}
<div class="d-none">
  <div class="col-12 col-sm-6 {% if inverse_card == true%}order-md-1{%endif%}">
    <div class="p-4">
      <div>{{login_title}} {{cart_next_step}}</div>
      <form action="{% path_to page %}" method="post">
        <input type="hidden" name="auth_action" value="sign_in" />
        <input type="hidden" name="auth_content_type" value="customers" />
        <input type="hidden" name="auth_id_field" value="email" />
        <input type="hidden" name="auth_password_field" value="password" />
        <input type="hidden" name="auth_callback" value="{% path_to cart_next_step %}" />
        <div class="form-group">
          <label for="auth-email">{{ 'signin_email' | translate }}</label>
          <input type="email" class="form-control" id="auth-email" placeholder="{{ 'signin_email' | translate }}" name="auth_id" value="{{ params.auth_id }}john.doe@shopinvader.com" required="required">
        </div>
        <div class="form-group">
          <label for="auth-password">{{ 'signin_password' | translate }}</label>
          <input type="password" class="form-control" id="auth-password" placeholder="{{ 'signin_password' | translate }}" name="auth_password" value="password" required="required">
          <a href="{% path_to reset_password_request %}" class="color-white">
            {{ 'signin_forgotpassword' | translate }}
          </a>
        </div>
        <div class="text-center">{% if auth_wrong_credentials %}{{ 'signin_wrong' | translate }}{% endif %}</div>
        <div class="text-right">
          <button type="submit" class="btn btn-dark btn-lg pull-right"><i class="fa fa-lock"></i> {{ 'signin_signin' | translate }}</button>
        </div>
      </form>
    </div>
  </div>
  <div class="col-12 col-sm-6 bg-light {% if inverse_card == true%}order-md-0{%endif%}">
    <div class="p-4">
      <div>{{guest_title}}</div>
      {{ guest_content}}
      <div class="text-center">
        <a href="{% path_to cart_next_step %}" class="btn btn-primary">
          {{ guest_button }}
        </a>
      </div>
    </div>
  </div>
</div>
{% endcomment %}